#+OPTIONS: title:t toc:t date:nil author:t email:nil num:nil
#+TITLE: Space is the Place
#+DATE: [2016-06-06 Mon]
#+AUTHOR: Eric Bailey
#+EMAIL: naptakerband@gmail.com
#+LANGUAGE: en
#+CREATOR: Emacs 25.0.94.1 (Org mode 8.3.4)

[[file:main.png]]

* Front Matter
:PROPERTIES:
:tangle:   include/global.ily
:END:
Every good LilyPond file starts with a ~\version~:
#+BEGIN_SRC LilyPond
\version "2.19.24"
#+END_SRC

Include some libraries and such:
#+BEGIN_SRC LilyPond
#(load "../../include/naptaker.scm")
\include "preamble.ily"
\include "instruments.ily"
\include "openlilylib"
\useLibrary gridly
#+END_SRC

Define some useful variables.
#+BEGIN_SRC LilyPond
Key    = { \key c \major }
Tempo  = { \tempo 4 = 150 }
global = { \Tempo \defaultTimeSignature \time 4/4 }
#+END_SRC

Then the ~\header~ metadata:
#+BEGIN_SRC LilyPond
\header {
  title    = "Space is the Place"
  opus     = "Naptime"
  composer = "Eric Bailey"
  poet     = "Preston Y. Drum"
  arranger = "Naptaker"
  copyright = "© 2016 Naptaker"
}
#+END_SRC

Initialize the gird and template with a list of parts
and a list of the lengths (in measures) of each segment.
#+BEGIN_SRC LilyPond
\templateInit #'("meta"
                 "vox"
                 "chords"
                 "guitar" "guitar strum"
                 "bass"
                 "drums up" "drums down")
              #'(8 8 16 8 8 8 7 1 24)
#+END_SRC
* Segments
** I: Drum and Bass Intro
*** Meta
#+BEGIN_SRC LilyPond :tangle include/global.ily
\gridPutMusic "meta" 1
{
  \global
  \mark 1
  s1*8 \break
}
#+END_SRC
*** TODO Vocals
*** Guitar
#+BEGIN_SRC LilyPond :tangle parts/guitar-I.ily
\include "global.ily"

\gridPutMusic "guitar" 1
\relative { R1*8 }

\gridCompileCell "guitar" 1
#+END_SRC
*** Bass
#+BEGIN_SRC LilyPond :tangle parts/bass-I.ily
\include "global.ily"

\gridPutMusic "bass" 1
\relative c, {
  \repeat unfold 2 {
    \include "notes/bass-I.ily"
  }
}

\gridCompileCell "bass" 1
#+END_SRC
**** DONE Notes
CLOSED: [2016-08-26 Fri 22:36]
#+BEGIN_SRC LilyPond :tangle notes/bass-I.ily
ees4       ges     f  d   |
ees4       ges     f  r   |
ees4       ges     f  d   |
ees8\( bes ees g\) a4 bes |
#+END_SRC
*** DONE Drums
CLOSED: [2016-06-29 Wed 02:12]
**** Up
#+BEGIN_SRC LilyPond :tangle parts/drums_up-I.ily
\include "global.ily"

\gridPutMusic "drums up" 1
\drummode {
  \repeat unfold 2 {
    \include "notes/drums_up-I.ily"
  }
}

\gridCompileCell "drums up" 1
#+END_SRC
***** Notes
#+BEGIN_SRC LilyPond :tangle notes/drums_up-I.ily
<ss hh>8 hh   <ss hh> hh   <ss hh> hh   <ss hh>   hh  |
<ss hh>8 hh   <ss hh> hh   <ss hh> hhho <ss hhho> hho |
<ss hh>8 hh   <ss hh> hh   <ss hh> hh   <ss hh>   hh  |
<ss hh>8 hhho <ss hh> hhho <ss hh> hhho <ss hhho> hho |
#+END_SRC
**** Down
#+BEGIN_SRC LilyPond :tangle parts/drums_down-I.ily
\include "global.ily"

\gridPutMusic "drums down" 1
\drummode {
  \repeat unfold 2 {
    \include "notes/drums_down-I.ily"
  }
}

\gridCompileCell "drums down" 1
#+END_SRC
***** Notes
#+BEGIN_SRC LilyPond :tangle notes/drums_down-I.ily
bd4   s     s     s     |
s4    s     s8 bd s bd  |
bd4   s     s     s     |
s8 bd s  bd s  bd bd bd |
#+END_SRC
** II: Full Band Intro
*** Meta
#+BEGIN_SRC LilyPond :tangle include/global.ily
\gridPutMusic "meta" 2
{
  \mark 2
  s1*8 \break
}
#+END_SRC
*** TODO Vocals
*** Chords
#+BEGIN_SRC LilyPond :tangle parts/chords-II.ily
\include "global.ily"

\gridPutMusic "chords" 2
\chordmode {
  \repeat unfold 2 {
    ees2:7 d:7 |
    ees2:7 s   |
    ees2:7 d:7 |
    ees2   s   |
  }
}
#+END_SRC
*** Guitar
#+BEGIN_SRC LilyPond :tangle parts/guitar-II.ily
\include "global.ily"

\gridPutMusic "guitar" 2
\relative c {
  \repeat unfold 2 {
    \include "notes/guitar-II.ily"
  }
}

\gridCompileCell "guitar" 2
#+END_SRC
**** DONE Notes
CLOSED: [2016-08-26 Fri 22:15]
#+BEGIN_SRC LilyPond :tangle notes/guitar-II.ily
\phrasingSlurUp
ees8\5\(  g\4   bes\3 des\2 c\2    a\3 fis\4 d\5\) |
ees8\5\(  g\4   bes\3 des\2 c4\2\)     r           |
ees,8\5\( g\4   bes\3 des\2 c\2    a\3 fis\4 d\5\) |
ees8\5\(  bes\6 ees\5 g\4\) a4\4       bes\4       |
#+END_SRC
*** Bass
#+BEGIN_SRC LilyPond :tangle parts/bass-II.ily
\include "global.ily"

\gridPutMusic "bass" 2
\relative c, {
  \repeat unfold 2 {
    \include "notes/bass-I.ily"
  }
}

\gridCompileCell "bass" 2
#+END_SRC
*** DONE Drums
CLOSED: [2016-06-29 Wed 02:21]
**** Up
#+BEGIN_SRC LilyPond :tangle parts/drums_up-II.ily
\include "global.ily"

\gridPutMusic "drums up" 2
\drummode {
  \repeat unfold 2 {
    \include "notes/drums_up-I.ily"
  }
}

\gridCompileCell "drums up" 2
#+END_SRC
**** Down
#+BEGIN_SRC LilyPond :tangle parts/drums_down-II.ily
\include "global.ily"

\gridPutMusic "drums down" 2
\drummode {
  \repeat unfold 2 {
    \include "notes/drums_down-I.ily"
  }
}

\gridCompileCell "drums down" 2
#+END_SRC
** III: Theme A
*** Meta
#+BEGIN_SRC LilyPond :tangle include/global.ily
\gridPutMusic "meta" 3
{
  \mark 3
  s1*4
  s1*4 \break
  s1*4
  s1*4 \break
}
#+END_SRC
*** TODO Vocals
*** Chords
#+BEGIN_SRC LilyPond :tangle parts/chords-III.ily
\include "global.ily"

\gridPutMusic "chords" 3
\chordmode {
  \repeat unfold 4 {
    \repeat unfold 3 {
      s4 ees8:7 s4 ges8:7 bes4 |
    }
    s1
  }
}
#+END_SRC
*** Guitar
#+BEGIN_SRC LilyPond :tangle parts/guitar-III.ily
\include "global.ily"

\gridPutMusic "guitar" 3
\relative c {
  %% 1-3
  \repeat unfold 3 {
    \repeat unfold 3 { \include "notes/guitar-III.ily" }
    \include "notes/guitar-IIIa.ily"
  }

  %% 4
  \repeat unfold 3 { \include "notes/guitar-III.ily" }
  \include "notes/guitar-IIIb.ily"
}

\gridCompileCell "guitar" 3
#+END_SRC
**** DONE Notes
CLOSED: [2016-08-26 Fri 22:17]
#+BEGIN_SRC LilyPond :tangle notes/guitar-III.ily
\once \override NoteHead.style = #'cross
ees4\5 <ees\5 bes'\4 des\3 ees\2>8-\snappizzicato
\once \override NoteHead.style = #'cross
ges4\5 <ges\5 des'\4 fes\3 ges\2>8-\snappizzicato <bes\4 d\3 f\2 bes\1>4-\snappizzicato |
#+END_SRC
#+BEGIN_SRC LilyPond :tangle notes/guitar-IIIa.ily
ges8\5 bes\4 des,\6 fes4\5 ges8\5 c,4\6 |
#+END_SRC
#+BEGIN_SRC LilyPond :tangle notes/guitar-IIIb.ily
ees,4\5 des8\5 ges4\4 aes8\4 d,4\5 |
#+END_SRC
*** Bass
#+BEGIN_SRC LilyPond :tangle parts/bass-III.ily
\include "global.ily"

\gridPutMusic "bass" 3
\relative c, {
  %% 1-3
  \repeat unfold 3 {
    \include "notes/bass-III.ily"
    \include "notes/bass-IIIa.ily"
  }

  %% 4
  \include "notes/bass-III.ily"
  \include "notes/bass-IIIb.ily"
}

\gridCompileCell "bass" 3
#+END_SRC
**** DONE Notes
CLOSED: [2016-08-26 Fri 22:38]
#+BEGIN_SRC LilyPond :tangle notes/bass-III.ily
es4.  ges4 aes8 a bes |
ees4. des4 bes8 a ges |
es4.  ges4 aes8 a bes |
#+END_SRC
#+BEGIN_SRC LilyPond :tangle notes/bass-IIIa.ily
ges8 bes des, fes4 ges8 c,4 |
#+END_SRC
#+BEGIN_SRC LilyPond :tangle notes/bass-IIIb.ily
ees,4 des8 ges4 aes8 d,4 |
#+END_SRC
*** DONE Drums
CLOSED: [2016-06-29 Wed 03:38]
**** Up
#+BEGIN_SRC LilyPond :tangle parts/drums_up-III.ily
\include "global.ily"

\gridPutMusic "drums up" 3
\drummode {
  \repeat unfold 4 {
    \include "notes/drums_up-III.ily"
  }
}

\gridCompileCell "drums up" 3
#+END_SRC
***** Notes
#+BEGIN_SRC LilyPond :tangle notes/drums_up-III.ily
<ss hh>8 hh   <ss hh> hh   <ss hh> hh   <ss hh>   hh  |
<ss hh>8 hh   <ss hh> hh   <ss hh> hhho <ss hhho> hho |
<ss hh>8 hh   <ss hh> hh   <ss hh> hh   <ss hh>   hh  |
<ss hh>8 hhho <ss hh> hhho <ss hh> hhho <ss hhho> hho |
#+END_SRC
**** Down
#+BEGIN_SRC LilyPond :tangle parts/drums_down-III.ily
\include "global.ily"

\gridPutMusic "drums down" 3
\drummode {
  \repeat unfold 4 {
    \include "notes/drums_down-III.ily"
  }
}

\gridCompileCell "drums down" 3
#+END_SRC
***** Notes
#+BEGIN_SRC LilyPond :tangle notes/drums_down-III.ily
\repeat unfold 3 {
  bd4 s8 bd s bd s bd |
}
s8 bd s bd s bd bd bd |
#+END_SRC
** IV: Theme B
*** Meta
#+BEGIN_SRC LilyPond :tangle include/global.ily
\gridPutMusic "meta" 4
{
  \mark 4
  s1*4 % \break
  s1*4 \break
}
#+END_SRC
*** TODO Vocals
*** Chords
#+BEGIN_SRC LilyPond :tangle parts/chords-IV.ily
\include "global.ily"

\gridPutMusic "chords" 4
\chordmode {
  \repeat unfold 2 {
    ees1 |
    bes1 |
    aes1 |
    ges1 |
  }
}
#+END_SRC
*** Guitar
#+BEGIN_SRC LilyPond :tangle parts/guitar-IV.ily
\include "global.ily"

\gridPutMusic "guitar" 4
\relative c {
  \repeat unfold 2 {
    \include "notes/guitar-IV.ily"
  }
}

\gridCompileCell "guitar" 4
#+END_SRC
**** DONE Notes
CLOSED: [2016-08-26 Fri 22:17]
#+BEGIN_SRC LilyPond :tangle notes/guitar-IV.ily
\ottava #0
ees4\5 ees8.\5\noBeam \stemUp
\once \phrasingSlurDown des16\5\( ees8\5 ges\4 ees\5 des\5 |
\once \override Glissando.style = #'dashed-line
bes4\6\)\glissando
\ottava #-1
bes8.\6\noBeam \stemDown a16\6\( bes8\6 des\5 bes\6 a\6 |
aes4\6\) \stemNeutral aes8.\6 ges16\6 ges8\6 aes4\6 f8\6 |
ges8\6 ges\6 ges\6 ges\6 ges\6 bes\6( a\6 f\6) |
#+END_SRC
*** Bass
#+BEGIN_SRC LilyPond :tangle parts/bass-IV.ily
\include "global.ily"

\gridPutMusic "bass" 4
\relative c, {
  \repeat unfold 2 {
    \include "notes/bass-IV.ily"
  }
}

\gridCompileCell "bass" 4
#+END_SRC
**** DONE Notes
CLOSED: [2016-08-26 Fri 22:39]
#+BEGIN_SRC LilyPond :tangle notes/bass-IV.ily
ees4     ees8.     des16 ees8 ges  ees des |
bes4     bes8.     a16   bes8 des  bes a   |
aes4     aes8.     ges16 ges8 aes4     f8  |
ges8 ges ges   ges       ges  bes  a   f   |
#+END_SRC
*** DONE Drums
CLOSED: [2016-06-29 Wed 03:38]
**** Up
#+BEGIN_SRC LilyPond :tangle parts/drums_up-IV.ily
\include "global.ily"

\gridPutMusic "drums up" 4
\drummode {
  \include "notes/drums_up-IVa.ily"
  \include "notes/drums_up-IVb.ily"
}

\gridCompileCell "drums up" 4
#+END_SRC
***** Notes
#+BEGIN_SRC LilyPond :tangle notes/drums_up-IVa.ily
\repeat unfold 3 { <sn hh>4 4 4 4 | }
<sn hh>4 4 << { hh4 hho } \\ { \stemUp sn4:16 4:16 } >>
#+END_SRC
#+BEGIN_SRC LilyPond :tangle notes/drums_up-IVb.ily
\repeat unfold 3 { <sn hh>4 4 4 4 | }
<sn hh>4 4 4 << { hho4 } \\ { \stemUp sn4:16 } >>
#+END_SRC
**** Down
#+BEGIN_SRC LilyPond :tangle parts/drums_down-IV.ily
\include "global.ily"

\gridPutMusic "drums down" 4
\drummode {
  \repeat unfold 2 {
    \include "notes/drums_down-IV.ily"
  }
}

\gridCompileCell "drums down" 4
#+END_SRC
***** Notes
#+BEGIN_SRC LilyPond :tangle notes/drums_down-IV.ily
bd4   s    s8 bd s4    |
bd4   s    s8 bd s  bd |
bd4   s    s8 bd s4    |
s8 bd s bd s  bd bd bd |
#+END_SRC
** V: Theme C (slow)
*** Meta
Slow and heavy.
#+BEGIN_SRC LilyPond :tangle include/global.ily
\gridPutMusic "meta" 5
{
  \mark 5
  s1*8 \pageBreak
}
#+END_SRC
*** TODO Vocals
*** Chords
#+BEGIN_SRC LilyPond :tangle parts/chords-V.ily
\include "global.ily"

\gridPutMusic "chords" 5
\chordmode {
  \repeat unfold 3 {
    b1   |
    fis1 |
  }
  f1 ~ |
  f1   |
}
#+END_SRC
*** DONE Guitar
CLOSED: [2016-06-26 Sun 17:07]
#+BEGIN_SRC LilyPond :tangle parts/guitar-V.ily
\include "global.ily"

\gridPutMusic "guitar" 5
\relative c {
  \fuzzOn
  \stopStaffNotTabStaff
  \include "notes/guitar-V.ily"
  %% \restartStaff
}

\gridCompileCell "guitar" 5
#+END_SRC
**** DONE Notes
CLOSED: [2016-08-26 Fri 22:21]
#+BEGIN_SRC LilyPond :tangle notes/guitar-V.ily
\ottava #0
\set TabStaff.minimumFret = #9
<b fis' b dis>1       |
\set TabStaff.minimumFret = #4
<fis cis' fis ais>1   |
\set TabStaff.minimumFret = #9
<b fis' b dis>1       |
\set TabStaff.minimumFret = #4
<fis cis' fis ais>1   |
\set TabStaff.minimumFret = #9
<b fis' b dis>1       |
\set TabStaff.minimumFret = #4
<fis cis' fis ais>1   |
\set TabStaff.minimumFret = #3
<f c' f a>1         ~ |
<f c' f a>1           |
#+END_SRC
*** TODO Guitar Strum
#+BEGIN_SRC LilyPond :tangle parts/guitar_strum-V.ily
\include "global.ily"

\gridPutMusic "guitar strum" 5
\relative c {
  \include "notes/guitar_strum-V.ily"
}

\gridCompileCell "guitar strum" 5
#+END_SRC
**** Notes
#+BEGIN_SRC LilyPond :tangle notes/guitar_strum-V.ily
\ottava #0
\repeat unfold 3 {
  b1   |
  fis1 |
}
f1   ~ |
f1     |
#+END_SRC
*** TODO Bass
*** TODO Drums
** VI: Theme C′ (double time)
*** Meta
The same as the previous segment, but with twice the rhythmic intensity.
#+BEGIN_SRC LilyPond :tangle include/global.ily
\gridPutMusic "meta" 6
{
  \mark 6
  s1*8 \break
}
#+END_SRC
*** TODO Vocals
*** Chords
#+BEGIN_SRC LilyPond :tangle parts/chords-VI.ily
\include "global.ily"

\gridPutMusic "chords" 6
\chordmode {
  \repeat unfold 3 {
    b1   |
    fis1 |
  }
  f1 ~ |
  f1   |
}
#+END_SRC
*** DONE Guitar
CLOSED: [2016-06-27 Mon 03:03]
#+BEGIN_SRC LilyPond :tangle parts/guitar-VI.ily
\include "global.ily"

\gridPutMusic "guitar" 6
\relative c {
  %% \stopStaffNotTabStaff
  \include "notes/guitar-VI.ily"
  %% \restartStaff
}

\gridCompileCell "guitar" 6
#+END_SRC
**** DONE Notes
CLOSED: [2016-08-26 Fri 22:21]
#+BEGIN_SRC LilyPond :tangle notes/guitar-VI.ily
\repeat unfold 3 {
  \set TabStaff.minimumFret = #9
  \repeat unfold 2 { <b fis' b dis>8     q16 q8 q16 q8 } |
  \set TabStaff.minimumFret = #4
  \repeat unfold 2 { <fis cis' fis ais>8 q16 q8 q16 q8 } |
}
\set TabStaff.minimumFret = #3
\repeat unfold 4   { <f c' f a>8         q16 q8 q16 q8 } |
#+END_SRC
*** TODO Guitar Strum
#+BEGIN_SRC LilyPond :tangle parts/guitar_strum-VI.ily
\include "global.ily"

\gridPutMusic "guitar strum" 6
\relative c {
  \include "notes/guitar_strum-VI.ily"
}

\gridCompileCell "guitar strum" 6
#+END_SRC
**** Notes
#+BEGIN_SRC LilyPond :tangle notes/guitar_strum-VI.ily
\repeat unfold 3 {
  \repeat unfold 2 { b8   16 8 16 8 } |
  \repeat unfold 2 { fis8 16 8 16 8 } |
}
\repeat unfold 4   { f8   16 8 16 8 } |
#+END_SRC
*** TODO Bass
*** TODO Drums
** VII: Theme D
*** Meta
The triumphant stoner segment.
#+BEGIN_SRC LilyPond :tangle include/global.ily
\gridPutMusic "meta" 7
{
  \tempo 4 = 69
  \mark 7
  s1*7
}
#+END_SRC
*** TODO Vocals
*** Chords
#+BEGIN_SRC LilyPond :tangle parts/chords-VII.ily
\include "global.ily"

\gridPutMusic "chords" 7
\chordmode {
  e2.                 s16 d8.     |
  b2  s8    s16 bes   b   d8.     |
  e2  s16 d e   g8        e8.     |
  b2  s8    bes       a       fis |
  e2.                 s16 d8.     |
  b2  s8.       bes16 b   e   b8  |
  bes1                            |
}
#+END_SRC
*** DONE Guitar
CLOSED: [2016-06-27 Mon 03:47]
#+BEGIN_SRC LilyPond :tangle parts/guitar-VII.ily
\include "global.ily"

\gridPutMusic "guitar" 7
\relative c {
  %% \stopStaffNotTabStaff
  \include "notes/guitar-VII.ily"
  %% \restartStaff
}

\gridCompileCell "guitar" 7
#+END_SRC
**** DONE Notes
CLOSED: [2016-08-26 Fri 22:21]
#+BEGIN_SRC LilyPond :tangle notes/guitar-VII.ily
\set TabStaff.minimumFret = #12
<e b' e>2. 16 <d a' d>8. |
\set TabStaff.minimumFret = #8
<b fis' b>2 ~ 8 16 <bes f' bes> <b fis' b>
\set TabStaff.minimumFret = #12
<d a' d>8. |
<e b' e>2 16 <d a' d>
\set TabStaff.minimumFret = #14
<e b' e> <g d' g>8 <e b' e>8. |
\set TabStaff.minimumFret = #7
<b fis' b>2
%% \override NoteHead.style = #'cross 8:16
16 16
<bes f' bes>16 16 <a e' a>16 16
\set TabStaff.minimumFret = #4
<fis cis' fis>8 |
%% \revert NoteHead.style
\set TabStaff.minimumFret = #12
<e' b' e>2. 16 <d a' d>8. |
\set TabStaff.minimumFret = #8
<b fis' b>2 ~ 8. <bes f' bes>16
\set TabStaff.minimumFret = #9
<b fis' b> <d a' d> <b fis' b>8 |
\set TabStaff.minimumFret = #8
<bes f' bes>1 |
\set TabStaff.minimumFret = #3
#+END_SRC
*** TODO Guitar Strum
#+BEGIN_SRC LilyPond :tangle parts/guitar_strum-VII.ily
\include "global.ily"

\gridPutMusic "guitar strum" 7
\relative c {
  \include "notes/guitar_strum-VII.ily"
}

\gridCompileCell "guitar strum" 7
#+END_SRC
**** Notes
#+BEGIN_SRC LilyPond :tangle notes/guitar_strum-VII.ily
e2. 16 d8. |
b2 ~ 8 16 bes b d8. |
e2 16 d e g8 e8. |
b2 \override NoteHead.style = #'cross 8:16 bes:16 a:16 fis |
\revert NoteHead.style
e2. 16 d8. |
b2 ~ 8. bes16 b d b8 |
bes1 |
#+END_SRC
*** TODO Bass
*** TODO Drums
** VIII: Magic Notes
*** Meta
#+BEGIN_SRC LilyPond :tangle include/global.ily
\gridPutMusic "meta" 8
{
  \mark 8
  s1 \break
}
#+END_SRC
*** TODO Vocals
*** Chords
#+BEGIN_SRC LilyPond :tangle parts/chords-VIII.ily
\include "global.ily"

\gridPutMusic "chords" 8
\chordmode {
  aes2 b |
}
#+END_SRC
*** DONE Guitar
CLOSED: [2016-06-26 Sun 17:18]
#+BEGIN_SRC LilyPond :tangle parts/guitar-VIII.ily
\include "global.ily"

\gridPutMusic "guitar" 8
\relative c {
  \fuzzOff
  %% \stopStaffNotTabStaff
  \include "notes/guitar-VIII.ily"
  \restartStaff
}

\gridCompileCell "guitar" 8
#+END_SRC
**** DONE Notes
CLOSED: [2016-08-26 Fri 22:21]
#+BEGIN_SRC LilyPond :tangle notes/guitar-VIII.ily
\set TabStaff.minimumFret = #6
<aes ees' aes c>2
\set TabStaff.minimumFret = #9
<b fis' b dis>2 |
\set TabStaff.minimumFret = #3
#+END_SRC
*** TODO Guitar Strum
#+BEGIN_SRC LilyPond :tangle parts/guitar_strum-VIII.ily
\include "global.ily"

\gridPutMusic "guitar strum" 8
\relative c {
  \include "notes/guitar_strum-VIII.ily"
}

\gridCompileCell "guitar strum" 8
#+END_SRC
**** Notes
#+BEGIN_SRC LilyPond :tangle notes/guitar_strum-VIII.ily
aes2 b |
#+END_SRC
*** TODO Bass
*** TODO Drums
** IX: Theme B′ (reprise)
*** Meta
#+BEGIN_SRC LilyPond :tangle include/global.ily
\gridPutMusic "meta" 9
{
  \Tempo
  \mark 9
  s1*24
  \bar "|."
}
#+END_SRC
*** TODO Vocals
*** Chords
#+BEGIN_SRC LilyPond :tangle parts/chords-IX.ily
\include "global.ily"

\gridPutMusic "chords" 9
\chordmode {
  \repeat unfold 6 {
    ees1 |
    bes1 |
    aes1 |
    ges1 |
  }
}
#+END_SRC
*** DONE Guitar
CLOSED: [2016-06-27 Mon 04:01]
#+BEGIN_SRC LilyPond :tangle parts/guitar-IX.ily
\include "global.ily"

\gridPutMusic "guitar" 9
\relative c {
  \include "notes/guitar-IV.ily"
  \fuzzOn
  \relative {
    \include "notes/guitar-IX.ily"
  }
  \relative {
    \include "notes/guitar-IV.ily"
  }
  \relative {
    \include "notes/guitar-IX.ily"
  }
  \relative {
    \include "notes/guitar-IV.ily"
  }
  \relative {
    \include "notes/guitar-IX.ily"
  }
}

\gridCompileCell "guitar" 9
#+END_SRC
**** DONE Notes
CLOSED: [2016-08-26 Fri 22:22]
#+BEGIN_SRC LilyPond :tangle notes/guitar-IX.ily
\once \override Glissando.style = #'dashed-line
ees4\5\glissando \ottava #0 ees8.\5 \stemUp des16\5\( ees8\5 ges\4 aes\4 a\4 |
bes4\4\) bes8.\4\noBeam \stemDown a16\4\( bes8\4 des\3 bes\4 a\4 |
aes4\4\) \stemNeutral aes8.\4 ges16\4 ges8\4 aes4\4 f8\4 |
ges8\4 ges\4 ges\4 ges\4 ges\4 bes\4( a\4 f\4) |
#+END_SRC
*** DONE Bass
CLOSED: [2016-08-26 Fri 22:40]
#+BEGIN_SRC LilyPond :tangle parts/bass-IX.ily
\include "global.ily"

\gridPutMusic "bass" 9
\relative c, {
  \repeat unfold 2 {
    \include "notes/bass-IV.ily"
  }
  \include "notes/bass-IX.ily"
  \include "notes/bass-IV.ily"
  \include "notes/bass-IX.ily"
  \include "notes/bass-IV.ily"
}
#+END_SRC
**** DONE Notes
CLOSED: [2016-08-26 Fri 22:40]
#+BEGIN_SRC LilyPond :tangle notes/bass-IX.ily
ees'4     ees8.     des16 ees8 ges  aes a  |
bes4     bes8.     a16   bes8 des  bes a   |
aes4     aes8.     ges16 ges8 aes4     f8  |
ges8 ges ges   ges       ges  bes  a   f   |
#+END_SRC
*** TODO Drums
**** Up
#+BEGIN_SRC LilyPond :tangle parts/drums_up-IX.ily
\include "global.ily"

\gridPutMusic "drums up" 9
\drummode {
  \repeat unfold 3 {
    \include "notes/drums_up-IVa.ily"
    \include "notes/drums_up-IVb.ily"
  }
}

\gridCompileCell "drums up" 9
#+END_SRC
**** Down
#+BEGIN_SRC LilyPond :tangle parts/drums_down-IX.ily
\include "global.ily"

\gridPutMusic "drums down" 9
\drummode {
  \repeat unfold 3 {
    \repeat unfold 2 {
      \include "notes/drums_down-IV.ily"
    }
  }
}

\gridCompileCell "drums down" 9
#+END_SRC
* Parts
** Chords
#+BEGIN_SRC LilyPond :tangle parts/chords.ily
\include "global.ily"
\include "chords-II.ily"
\include "chords-III.ily"
\include "chords-IV.ily"
\include "chords-V.ily"
\include "chords-VI.ily"
\include "chords-VII.ily"
\include "chords-VIII.ily"
\include "chords-IX.ily"
#+END_SRC
** Guitar
#+BEGIN_SRC LilyPond :tangle parts/guitar.ily
\include "global.ily"
\include "guitar-I.ily"
\include "guitar-II.ily"
\include "guitar-III.ily"
\include "guitar-IV.ily"
\include "guitar-V.ily"
\include "guitar-VI.ily"
\include "guitar-VII.ily"
\include "guitar-VIII.ily"
\include "guitar-IX.ily"
#+END_SRC
** Guitar Strum
:PROPERTIES:
:tangle:   parts/guitar_strum.ily
:END:
#+BEGIN_SRC LilyPond
\include "global.ily"
\include "guitar_strum-V.ily"
\include "guitar_strum-VI.ily"
\include "guitar_strum-VII.ily"
\include "guitar_strum-VIII.ily"
#+END_SRC
** Bass
#+BEGIN_SRC LilyPond :tangle parts/bass.ily
\include "global.ily"
\include "bass-I.ily"
\include "bass-II.ily"
\include "bass-III.ily"
\include "bass-IV.ily"
\include "bass-IX.ily"
#+END_SRC
** Drums
#+BEGIN_SRC LilyPond :tangle parts/drums.ily
\include "global.ily"
\include "drums_up-I.ily"
\include "drums_down-I.ily"
\include "drums_up-II.ily"
\include "drums_down-II.ily"
\include "drums_up-III.ily"
\include "drums_down-III.ily"
\include "drums_up-IV.ily"
\include "drums_down-IV.ily"
\include "drums_up-IX.ily"
\include "drums_down-IX.ily"
#+END_SRC
** TODO Vocals
* Main
:PROPERTIES:
:tangle:   main.ly
:END:
Include the grid, templates and header metadata ([[file:include/global.ily][global.ily]]), and the parts.
#+BEGIN_SRC LilyPond
\include "global.ily"
\include "parts/chords.ily"
\include "parts/guitar.ily"
\include "parts/guitar_strum.ily"
\include "parts/bass.ily"
\include "parts/drums.ily"
#+END_SRC

Print out the grid while rendering and
ensure all segments are of appropriate length.
#+BEGIN_SRC LilyPond
\gridDisplay
\gridCheck
#+END_SRC

During the process of transcribing a score, it can be useful to render a
particular range of the grid. GridLy provides a function, ~gridSetRange~ to
do just that.

By default, all segments are retrieved:
#+BEGIN_SRC LilyPond :tangle no
\gridSetRange #'all
#+END_SRC

... but you can specify a dotted pair (start and end):
#+BEGIN_SRC LilyPond :tangle no
\gridSetRange #'(2 . 3)
#+END_SRC

... or a single segment index:
#+BEGIN_SRC LilyPond :tangle no
\gridSetRange 9
#+END_SRC

Configure the score to be printed, including some visual tweaks.
#+BEGIN_SRC LilyPond
\score {
  \Naptaker #guitar-open-d-tuning

  \layout {
    %% Increase the size of bar numbers by 2
    \override Score.BarNumber.font-size = #2

    %% Draw a box around bar numbers
    \override Score.BarNumber.stencil =
    #(make-stencil-boxer 0.1 0.25 ly:text-interface::print)

    \override Score.BarNumber.padding = #3
  }
}
#+END_SRC

Configure the MIDI output.
#+BEGIN_SRC LilyPond
\score {
  \unfoldRepeats \Naptaker #guitar-open-d-tuning
  \midi { }
}
#+END_SRC
